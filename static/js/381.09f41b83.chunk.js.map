{"version":3,"file":"static/js/381.09f41b83.chunk.js","mappings":"kNACA,EAAuB,sBAAvB,EAAoD,sBAApD,EAAkF,uB,kBCyClF,EApCe,WACb,IAAQA,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAA8BE,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAA0BF,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAA8BJ,EAAAA,EAAAA,WAAS,GAAvC,eAAOK,EAAP,KAAgBC,EAAhB,KAUA,OARAC,EAAAA,EAAAA,YAAU,WACRD,GAAW,GACXE,EAAAA,EAAAA,gBAA0BV,GACvBW,MAAK,SAAAC,GAAI,OAAIR,EAAWQ,EAAKC,QAApB,IACTC,OAAM,SAAAT,GAAK,OAAIC,EAASD,EAAb,IACXU,QAAQP,GAAW,GACzB,GAAE,CAACR,KAGA,2BACGO,IAAW,wCACXF,IAAS,mCAETF,EAAQa,OAAS,GAChB,eAAIC,UAAWC,EAAf,SACGf,EAAQgB,KAAI,YAA8B,IAA3BC,EAA0B,EAA1BA,GAAIC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC1B,OACE,gBAAIL,UAAWC,EAAf,WACE,gBAAID,UAAWC,EAAf,qBAAqCG,MACrC,uBAAIC,MAF0BF,EAKnC,OAED,wEAIT,C,8DCtCKG,EAAU,mCAChBC,EAAAA,EAAAA,SAAAA,QAAyB,+BAEzB,IAAMC,EAAiB,mCAAG,qGACLD,EAAAA,EAAAA,GAAM,6BAAD,OAA8BD,IAD9B,cAClBG,EADkB,yBAEjBA,EAAKd,MAFY,2CAAH,qDAKjBe,EAAiB,mCAAG,WAAMC,GAAN,wFACLJ,EAAAA,EAAAA,GAAM,yBAAD,OACGD,EADH,kBACoBK,EADpB,+CADA,cAClBF,EADkB,yBAGjBA,EAAKd,MAHY,2CAAH,sDAMjBiB,EAAY,mCAAG,WAAMT,GAAN,wFACAI,EAAAA,EAAAA,GAAM,UAAD,OAAWJ,EAAX,oBAAyBG,EAAzB,oBADL,cACbG,EADa,yBAEZA,EAAKd,MAFO,2CAAH,sDAKZkB,EAAe,mCAAG,WAAMV,GAAN,wFACHI,EAAAA,EAAAA,GAAM,UAAD,OAAWJ,EAAX,4BAAiCG,EAAjC,2BADF,cAChBG,EADgB,yBAEfA,EAAKd,MAFU,2CAAH,sDAKfmB,EAAY,mCAAG,WAAMX,GAAN,wFACAI,EAAAA,EAAAA,GAAM,UAAD,OAAWJ,EAAX,4BAAiCG,EAAjC,oBADL,cACbG,EADa,yBAEZA,EAAKd,MAFO,2CAAH,sDAKZF,EAAY,CAChBmB,aAAAA,EACAJ,kBAAAA,EACAE,kBAAAA,EACAI,aAAAA,EACAD,gBAAAA,GAGF,K","sources":["webpack://react-homework-template/./src/pages/MovieDetails/Reviews/Reviews.module.css?48d1","pages/MovieDetails/Reviews/Reviews.jsx","services/fetchApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"Reviews_list__HC6Ba\",\"item\":\"Reviews_item__ulNcN\",\"title\":\"Reviews_title__hBGNL\"};","import { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport style from './Reviews.module.css'\nimport featchApi from \"services/fetchApi\";\n\nconst Review = () => {\n  const { movieId } = useParams();\n  const [reviews, setReviews] = useState([]);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n    featchApi.getMovieReviews(movieId)\n      .then(data => setReviews(data.results))\n      .catch(error => setError(error))\n      .finally(setLoading(false));\n}, [movieId])\n\n  return (\n    <div>\n      {loading && <div>Loading...</div>}\n      {error && <div>Error</div>}\n\n      {reviews.length > 0 ? (\n        <ul className={style.list}>\n          {reviews.map(({ id, author, content }) => {\n            return (\n              <li className={style.item} key={id}>\n                <h3 className={style.title}>Author: {author}</h3>\n                <p>{content}</p>\n              </li>\n            )\n          })}\n        </ul>\n      ) : <div>We don't have any reviews for this movie</div>}\n    </div>\n\n  );\n};\n\nexport default Review;\n","import axios from 'axios';\n\nconst API_KEY = '0d7d20afff25839c3a8a445daa632bca';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst getTrendingMovies = async () => {\n  const resp = await axios(`/trending/all/day?api_key=${API_KEY}`);\n  return resp.data;\n};\n\nconst getMoviesBySearch = async search => {\n  const resp = await axios(\n    `/search/movie?api_key=${API_KEY}&query=${search}&language=en-US&include_adult=false&page=1`);\n  return resp.data;\n};\n\nconst getMovieById = async id => {\n  const resp = await axios(`/movie/${id}?api_key=${API_KEY}&language=en-US`);\n  return resp.data;\n};\n\nconst getMovieReviews = async id => {\n  const resp = await axios(`/movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=1`);\n  return resp.data;\n}\n\nconst getMovieCast = async id => {\n  const resp = await axios(`/movie/${id}/credits?api_key=${API_KEY}&language=en-US`);\n  return resp.data;\n}\n\nconst featchApi = {\n  getMovieById,\n  getTrendingMovies,\n  getMoviesBySearch,\n  getMovieCast,\n  getMovieReviews\n};\n\nexport default featchApi;\n"],"names":["movieId","useParams","useState","reviews","setReviews","error","setError","loading","setLoading","useEffect","featchApi","then","data","results","catch","finally","length","className","style","map","id","author","content","API_KEY","axios","getTrendingMovies","resp","getMoviesBySearch","search","getMovieById","getMovieReviews","getMovieCast"],"sourceRoot":""}