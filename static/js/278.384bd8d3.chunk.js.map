{"version":3,"file":"static/js/278.384bd8d3.chunk.js","mappings":"sMAsDA,UAlDe,WAAO,IAAD,EACnB,GAA4BA,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA8BF,EAAAA,EAAAA,WAAS,GAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,MAAnC,eAAOK,EAAP,KAAcC,EAAd,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAWC,EAAAA,EAAAA,MAEXC,EAAM,UAAGJ,EAAaK,IAAI,gBAApB,QAAgC,IAE5CC,EAAAA,EAAAA,YAAU,WACM,KAAXF,IAGHR,GAAW,GACXW,EAAAA,EAAAA,kBAA4BH,GACzBI,MAAK,SAAAC,GAAI,OAAIf,EAAUe,EAAKC,QAAnB,IACTC,OAAM,SAAAd,GAAK,OAAIC,EAASD,EAAb,IACXe,QAAQhB,GAAW,IACvB,GAAE,CAACQ,IASJ,OACE,4BACE,kBAAMS,SATY,SAAAC,GACpBA,EAAEC,iBACF,IAAQC,EAAUF,EAAEG,OAAOC,SAASd,OAA5BY,MACRf,EAAgB,CAAEkB,MAAOH,IACzBF,EAAEG,OAAOG,OACV,EAIG,WACE,kBAAOC,KAAK,OAAOC,KAAK,YACxB,mBAAQD,KAAK,SAAb,uBAED1B,IAAW,wCACXE,IAAS,mCACTJ,EAAO8B,OAAS,IACf,wBACG9B,EAAO+B,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OACV,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAaF,GAAMG,MAAO,CAAEC,KAAM3B,GAA1C,SACGwB,KAFID,EADC,QAWrB,C,8DClDKK,EAAU,mCAChBC,EAAAA,EAAAA,SAAAA,QAAyB,+BAEzB,IAAMC,EAAiB,mCAAG,qGACLD,EAAAA,EAAAA,GAAM,6BAAD,OAA8BD,IAD9B,cAClBG,EADkB,yBAEjBA,EAAKxB,MAFY,2CAAH,qDAKjByB,EAAiB,mCAAG,WAAM9B,GAAN,wFACL2B,EAAAA,EAAAA,GAAM,yBAAD,OACGD,EADH,kBACoB1B,EADpB,+CADA,cAClB6B,EADkB,yBAGjBA,EAAKxB,MAHY,2CAAH,sDAMjB0B,EAAY,mCAAG,WAAMV,GAAN,wFACAM,EAAAA,EAAAA,GAAM,UAAD,OAAWN,EAAX,oBAAyBK,EAAzB,oBADL,cACbG,EADa,yBAEZA,EAAKxB,MAFO,2CAAH,sDAKZ2B,EAAe,mCAAG,WAAMX,GAAN,wFACHM,EAAAA,EAAAA,GAAM,UAAD,OAAWN,EAAX,4BAAiCK,EAAjC,2BADF,cAChBG,EADgB,yBAEfA,EAAKxB,MAFU,2CAAH,sDAKf4B,EAAY,mCAAG,WAAMZ,GAAN,wFACAM,EAAAA,EAAAA,GAAM,UAAD,OAAWN,EAAX,4BAAiCK,EAAjC,oBADL,cACbG,EADa,yBAEZA,EAAKxB,MAFO,2CAAH,sDAKZF,EAAY,CAChB4B,aAAAA,EACAH,kBAAAA,EACAE,kBAAAA,EACAG,aAAAA,EACAD,gBAAAA,GAGF,K","sources":["pages/Movies/Movies.jsx","services/fetchApi.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Link, useLocation, useSearchParams } from \"react-router-dom\";\nimport featchApi from \"services/fetchApi\";\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n\n  const search = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    if(search === '') {\n      return;\n    }\n    setLoading(true);\n    featchApi.getMoviesBySearch(search)\n      .then(data => setMovies(data.results))\n      .catch(error => setError(error))\n      .finally(setLoading(false))\n  }, [search]);\n\n  const handleSubmint = e => {\n    e.preventDefault();\n    const { value } = e.target.elements.search;\n    setSearchParams({ query: value });\n    e.target.reset();\n  }\n\n  return (\n    <div>\n      <form onSubmit={handleSubmint}>\n        <input type=\"text\" name=\"search\" />\n        <button type=\"submit\">Search</button>\n      </form>\n      {loading && <div>Loading...</div>}\n      {error && <div>Error</div>}\n      {movies.length > 0 && (\n        <ul>\n          {movies.map(({ id, title })=> (\n            <li key={id}>\n              <Link to={`/movies/${id}`} state={{ from: location }}>\n                {title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst API_KEY = '0d7d20afff25839c3a8a445daa632bca';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst getTrendingMovies = async () => {\n  const resp = await axios(`/trending/all/day?api_key=${API_KEY}`);\n  return resp.data;\n};\n\nconst getMoviesBySearch = async search => {\n  const resp = await axios(\n    `/search/movie?api_key=${API_KEY}&query=${search}&language=en-US&include_adult=false&page=1`);\n  return resp.data;\n};\n\nconst getMovieById = async id => {\n  const resp = await axios(`/movie/${id}?api_key=${API_KEY}&language=en-US`);\n  return resp.data;\n};\n\nconst getMovieReviews = async id => {\n  const resp = await axios(`/movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=1`);\n  return resp.data;\n}\n\nconst getMovieCast = async id => {\n  const resp = await axios(`/movie/${id}/credits?api_key=${API_KEY}&language=en-US`);\n  return resp.data;\n}\n\nconst featchApi = {\n  getMovieById,\n  getTrendingMovies,\n  getMoviesBySearch,\n  getMovieCast,\n  getMovieReviews\n};\n\nexport default featchApi;\n"],"names":["useState","movies","setMovies","loading","setLoading","error","setError","useSearchParams","searchParams","setSearchParams","location","useLocation","search","get","useEffect","featchApi","then","data","results","catch","finally","onSubmit","e","preventDefault","value","target","elements","query","reset","type","name","length","map","id","title","to","state","from","API_KEY","axios","getTrendingMovies","resp","getMoviesBySearch","getMovieById","getMovieReviews","getMovieCast"],"sourceRoot":""}